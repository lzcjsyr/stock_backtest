# ğŸ“ˆ è‚¡ç¥¨å›æµ‹ç³»ç»Ÿ - ä½ä»·è‚¡ç­–ç•¥éªŒè¯

> **éªŒè¯å°çº¢ä¹¦çˆ†ç«çš„ä½ä»·è‚¡æŠ•èµ„ç­–ç•¥ï¼ç”¨æ•°æ®è¯´è¯ï¼Œæ­ç§˜43%å¹´åŒ–æ”¶ç›ŠèƒŒåçš„çœŸç›¸ã€‚**

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![AKShare](https://img.shields.io/badge/AKShare-1.12+-green.svg)](https://github.com/akfamily/akshare)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ¯ é¡¹ç›®èƒŒæ™¯

åœ¨å°çº¢ä¹¦çœ‹åˆ°ä¸€ä¸ªå£°ç§°å¹´åŒ–æ”¶ç›Šç‡43.76%çš„ä½ä»·è‚¡æŠ•èµ„ç­–ç•¥åï¼Œæˆ‘å†³å®šç”¨æ•°æ®éªŒè¯è¿™ä¸ª"ç¥è¯"ã€‚

**ç­–ç•¥åŸç†**ï¼šæ¯æœˆåœ¨ä»·æ ¼å¤§äº2å…ƒçš„è‚¡ç¥¨ä¸­ï¼Œé€‰æ‹©ä»·æ ¼æœ€ä½çš„50åªæŒæœ‰ä¸€ä¸ªæœˆã€‚

**æˆ‘çš„éªŒè¯ç»“æœ**ï¼šå®é™…å¹´åŒ–æ”¶ç›Šç‡çº¦14.25%ï¼Œè™½ç„¶è·‘èµ¢å¤§ç›˜ä½†è¿œä½äºå®£ä¼ æ•°æ®ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ”„ **è‡ªåŠ¨åŒ–æ•°æ®è·å–** - åŸºäºAKShareçš„Aè‚¡æ•°æ®æŠ“å–
- ğŸ’¾ **æœ¬åœ°æ•°æ®å­˜å‚¨** - SQLiteæ•°æ®åº“é«˜æ•ˆå­˜å‚¨
- ğŸ“Š **ç­–ç•¥å›æµ‹åˆ†æ** - å®Œæ•´çš„ä½ä»·è‚¡ç­–ç•¥å®ç°
- ğŸ“ˆ **å¯è§†åŒ–æŠ¥å‘Š** - ä¸“ä¸šçš„å›¾è¡¨å’Œåˆ†ææŠ¥å‘Š

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
æ•°æ®è·å– (AKShare) â†’ æ•°æ®å­˜å‚¨ (SQLite) â†’ ç­–ç•¥å›æµ‹ â†’ ç»“æœå¯è§†åŒ–
```

![ç³»ç»Ÿæ¶æ„](system_architecture.png)

## ğŸ“ é¡¹ç›®ç»“æ„

```
stock_backtest/
â”œâ”€â”€ data/                   # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ stock_data.db      # SQLiteæ•°æ®åº“
â”œâ”€â”€ src/                   # æºä»£ç 
â”‚   â”œâ”€â”€ data_fetcher.py    # æ•°æ®è·å–æ¨¡å—
â”‚   â”œâ”€â”€ database.py        # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ strategy.py        # ç­–ç•¥å®ç°
â”‚   â””â”€â”€ visualizer.py      # ç»“æœå¯è§†åŒ–
â”œâ”€â”€ results/               # å›æµ‹ç»“æœ
â”‚   â””â”€â”€ charts/           # å›¾è¡¨è¾“å‡º
â”œâ”€â”€ main.py               # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt      # ä¾èµ–åŒ…
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/lzcjsyr/stock_backtest.git
cd stock_backtest

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### è¿è¡Œç³»ç»Ÿ

```bash
python main.py
```

ç¨‹åºæä¾›ä¸¤ç§æ¨¡å¼ï¼š
- **æ¨¡å¼1**ï¼šå®Œæ•´å›æµ‹ï¼ˆè·å–çœŸå®Aè‚¡æ•°æ®ï¼‰
- **æ¨¡å¼2**ï¼šå¿«é€Ÿæ¼”ç¤ºï¼ˆä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼‰

## ğŸ“Š å›æµ‹ç»“æœ

### å…³é”®æŒ‡æ ‡å¯¹æ¯”

| æŒ‡æ ‡ | å°çº¢ä¹¦å®£ç§° | å®é™…éªŒè¯ç»“æœ |
|------|-----------|-------------|
| å¹´åŒ–æ”¶ç›Šç‡ | **43.76%** | **14.25%** |
| æœ€å¤§å›æ’¤ | ~55% | 52.8% |
| èƒœç‡ | æœªæåŠ | 58.3% |

### æ ¸å¿ƒå‘ç°

âœ… **ç­–ç•¥ç¡®å®æœ‰æ•ˆ**
- 14.25%å¹´åŒ–æ”¶ç›Šè·‘èµ¢å¤§ç›˜ï¼ˆæ²ªæ·±300çº¦8%ï¼‰
- é•¿æœŸåšæŒç¡®å®èƒ½è·å¾—è¶…é¢æ”¶ç›Š

âŒ **ä½†é£é™©è¾ƒå¤§**  
- æœ€å¤§å›æ’¤è¶…è¿‡50%ï¼Œå¿ƒç†å‹åŠ›å·¨å¤§
- æ”¶ç›Šæ³¢åŠ¨è¾ƒå¤§ï¼Œéœ€è¦å¼ºå¤§çš„é£é™©æ‰¿å—èƒ½åŠ›

## ğŸ“ˆ åŠŸèƒ½æ¼”ç¤º

### æ•°æ®è·å–
```python
from src.data_fetcher import DataFetcher

fetcher = DataFetcher()
stock_list = fetcher.get_stock_list()  # è·å–Aè‚¡åˆ—è¡¨
data = fetcher.batch_fetch_data(symbols, start_date, end_date)  # æ‰¹é‡è·å–æ•°æ®
```

### ç­–ç•¥å›æµ‹
```python
from src.strategy import LowPriceStrategy

strategy = LowPriceStrategy(min_price=2.0, top_n=50, initial_capital=100000)
results = strategy.run_backtest(price_data, "2020-01-01", "2023-12-31")
```

### ç»“æœå¯è§†åŒ–
```python
from src.visualizer import BacktestVisualizer

visualizer = BacktestVisualizer(results)
visualizer.plot_cumulative_returns()  # ç”Ÿæˆæ”¶ç›Šæ›²çº¿
visualizer.plot_risk_analysis()       # ç”Ÿæˆé£é™©åˆ†æ
visualizer.generate_report()          # ç”Ÿæˆæ–‡å­—æŠ¥å‘Š
```

## ğŸ› ï¸ æ ¸å¿ƒæ¨¡å—

### 1. æ•°æ®è·å–æ¨¡å— (`data_fetcher.py`)
- åŸºäºAKShareè·å–Aè‚¡æ•°æ®
- æ”¯æŒæ‰¹é‡ä¸‹è½½å’Œé”™è¯¯é‡è¯•
- è‡ªåŠ¨æ•°æ®æ¸…æ´—å’Œæ ¼å¼åŒ–

### 2. æ•°æ®å­˜å‚¨æ¨¡å— (`database.py`)  
- SQLiteæœ¬åœ°æ•°æ®åº“å­˜å‚¨
- ä¼˜åŒ–çš„ç´¢å¼•è®¾è®¡
- æ”¯æŒå¢é‡æ•°æ®æ›´æ–°

### 3. ç­–ç•¥å®ç°æ¨¡å— (`strategy.py`)
- ä½ä»·è‚¡é€‰è‚¡ç®—æ³•
- å®Œæ•´çš„å›æµ‹æ¡†æ¶
- è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡è®¡ç®—

### 4. å¯è§†åŒ–æ¨¡å— (`visualizer.py`)
- ä¸“ä¸šçš„å›¾è¡¨ç”Ÿæˆ
- é£é™©æ”¶ç›Šåˆ†æ
- è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€å›æµ‹
```python
# å¿«é€Ÿä¸Šæ‰‹ç¤ºä¾‹
from src.data_fetcher import DataFetcher
from src.strategy import LowPriceStrategy
from src.visualizer import BacktestVisualizer

# è·å–æ•°æ®
fetcher = DataFetcher()
data = fetcher.get_stock_price("000001", "2020-01-01", "2023-12-31")

# æ‰§è¡Œå›æµ‹
strategy = LowPriceStrategy()
results = strategy.run_backtest(data, "2020-01-01", "2023-12-31")

# ç”ŸæˆæŠ¥å‘Š
visualizer = BacktestVisualizer(results)
visualizer.generate_report()
```

### è‡ªå®šä¹‰ç­–ç•¥å‚æ•°
```python
# è‡ªå®šä¹‰ç­–ç•¥å‚æ•°
strategy = LowPriceStrategy(
    min_price=3.0,      # æœ€ä½ä»·æ ¼æ”¹ä¸º3å…ƒ
    top_n=30,           # é€‰æ‹©30åªè‚¡ç¥¨
    initial_capital=200000  # åˆå§‹èµ„é‡‘20ä¸‡
)
```

## ğŸ”§ æ‰©å±•åŠŸèƒ½

ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•ï¼š

- **å¤šç­–ç•¥æ”¯æŒ**ï¼šå¯ä»¥è½»æ¾æ·»åŠ å…¶ä»–é€‰è‚¡ç­–ç•¥
- **å¤šæ•°æ®æº**ï¼šæ”¯æŒæ¥å…¥æ›´å¤šæ•°æ®æºï¼ˆå¦‚Windã€åŒèŠ±é¡ºç­‰ï¼‰
- **å®æ—¶äº¤æ˜“**ï¼šå¯æ‰©å±•ä¸ºå®ç›˜äº¤æ˜“ç³»ç»Ÿ
- **æœºå™¨å­¦ä¹ **ï¼šå¯é›†æˆAIæ¨¡å‹è¿›è¡Œæ™ºèƒ½é€‰è‚¡

## âš ï¸ é£é™©æç¤º

1. **æœ¬ç³»ç»Ÿä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨**ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®
2. **æŠ•èµ„æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…**
3. **å†å²å›æµ‹ç»“æœä¸ä»£è¡¨æœªæ¥è¡¨ç°**
4. **è¯·æ ¹æ®è‡ªèº«é£é™©æ‰¿å—èƒ½åŠ›è¿›è¡ŒæŠ•èµ„**

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueså’ŒPull Requestsï¼

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ’¡ è‡´è°¢

- [AKShare](https://github.com/akfamily/akshare) - ä¼˜ç§€çš„é‡‘èæ•°æ®æ¥å£
- æ‰€æœ‰ä¸ºå¼€æºç¤¾åŒºè´¡çŒ®çš„å¼€å‘è€…ä»¬

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/lzcjsyr/stock_backtest/issues)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼**

*ç”¨ä»£ç éªŒè¯æŠ•èµ„ç­–ç•¥ï¼Œç”¨æ•°æ®è¿½æ±‚çœŸç›¸ï¼*